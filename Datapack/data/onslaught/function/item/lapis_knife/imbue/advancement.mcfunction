playsound onslaught:item.lapis_knife.chime player @a ~ ~ ~ 1 1
particle minecraft:enchanted_hit ~ ~1 ~ 0.3 0.5 0.3 1 50 normal

execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/mending={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:mending","name":"enchantment.minecraft.mending"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/unbreaking={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:unbreaking","name":"enchantment.minecraft.unbreaking"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/feather_falling={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:feather_falling","name":"enchantment.minecraft.feather_falling"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/fire_protection={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:fire_protection","name":"enchantment.minecraft.fire_protection"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/frost_walker={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:frost_walker","name":"enchantment.minecraft.frost_walker"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/protection={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:protection","name":"enchantment.minecraft.protection"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/respiration={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:respiration","name":"enchantment.minecraft.respiration"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/soul_speed={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:soul_speed","name":"enchantment.minecraft.soul_speed"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/thorns={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:thorns","name":"enchantment.minecraft.thorns"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/bane_of_arthropods={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:bane_of_arthropods","name":"enchantment.minecraft.bane_of_arthropods"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/fire_aspect={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:fire_aspect","name":"enchantment.minecraft.fire_aspect"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/knockback={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:knockback","name":"enchantment.minecraft.knockback"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/sharpness={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:sharpness","name":"enchantment.minecraft.sharpness"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/smite={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:smite","name":"enchantment.minecraft.smite"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/sweeping_edge={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:sweeping_edge","name":"enchantment.minecraft.sweeping_edge"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/channeling={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:channeling","name":"enchantment.minecraft.channeling"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/flame={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:flame","name":"enchantment.minecraft.flame"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/impaling={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:impaling","name":"enchantment.minecraft.impaling"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/infinity={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:infinity","name":"enchantment.minecraft.infinity"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/riptide={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:riptide","name":"enchantment.minecraft.riptide"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/multishot={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:multishot","name":"enchantment.minecraft.multishot"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/piercing={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:piercing","name":"enchantment.minecraft.piercing"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/quick_charge={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:quick_charge","name":"enchantment.minecraft.quick_charge"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/efficiency={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:efficiency","name":"enchantment.minecraft.efficiency"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/luck_of_the_sea={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:luck_of_the_sea","name":"enchantment.minecraft.luck_of_the_sea"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/lure={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:lure","name":"enchantment.minecraft.lure"}
execute if entity @s[advancements={onslaught:technical/player_killed_entity/imbuements/silk_touch={kill=true}}] run function onslaught:item/lapis_knife/imbue/main {"enchantment":"minecraft:silk_touch","name":"enchantment.minecraft.silk_touch"}

advancement revoke @s from onslaught:technical/player_killed_entity/imbuements/_root
